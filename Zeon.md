# 基本概念

## 存储库

每个Zeon服务端实例管理的数据的总集【？】，我们称之为**存储库** (repository / repo)。

## 对象

从「空间」的角度，Zeon的基本单元是**对象** (object)。

每个对象都有其类型，我们称之为**对象类型** (object type)。（Zeon中不同的「类型」概念很多，请读者一定要注意区分。）每个Zeon存储库中，**对象类型ID**(object type id)为16位无符号整数，即地址空间为2^16，随着对象类型在存储库中的增加而自增。

每个对象都有其在对应的对象类型中的ID，我们称之为**对象类型内ID** (object inner id)，为64位无符号整数，即地址空间为2^64，随着对象在指定对象类型中的增加而自增，或者使用范围内随机增加算法。

**对象类型ID**和**对象类型内ID**连接起来的整体，我们称之为**对象ID** (object id)。

对象自身只是一个对象ID【？】，无法存储任何数据，也无法实现任何功能。对象储存数据是通过向对象附加trait实现的。

每个对象类型需指定至少一个trait作为**必需trait集合** (essential traits set)，属于该对象类型的所有对象都必须附加这些trait。除元数据类型外，必需trait集合在创建类型之后可以增加或者减少，方式是通过具有系统管理员权限的操作者向该对象类型的元数据对象以及该对象类型的所有对象【一定要是系统管理员提交所有对象的修改么？如果要保证在一个提交内完成的话，一个提交是不是可以有多个操作者？是不是可以有author和committer的区别？】提交migration commit。

必需trait集合中包含操作者及相关权限的trait的对象类型被称为**操作者类型** (operator type)，属于该对象类型的对象是**操作者** (operator)。操作者可以对拥有相应权限的对象进行提交（包括创建新的对象）。

每个存储库中都有一些固定的对象类型，其必需trait集合和作用是确定的，用于储存每个存储库的元数据，这些对象类型被称为**元数据类型**。元数据类型中包含该存储库中

## trait

**trait**是对象存储数据、实现功能的凭依。每个trait中包含若干属性。
【versioning？】

属性在其对应trait中的ID，我们称之为**trait属性ID** (trait attr id)，为8位无符号整数，即地址空间为2^8，按照trait schema中的顺序依次编号。

属性有5种类型，我们称之为**属性类型** (attr type)：**常量** (const)、**变量** (mut)、**列表** (iter list)、**集合** (iter set)、**复杂结构** (complex)。

## 提交

从「时间」的角度，Zeon的基本单元是**提交** (commit)。

提交分为**提交头** (commit header)和**提交体** (commit body)两部分。

提交头包含**提交ID** (commit id)和**提交签名** (commit signature)两部分，以下是提交ID的构成：

**时间戳**，为128位有符号整数，记录自UTC时间2001年1月1日0时整经过的纳秒数；
【epoch&tick？纳秒不是原始单位，引入了十进制？那string还引入了utf8呢所以应该不用考虑】

**序列码**，为16位无符号整数，根据实现决定，目的是防止多机器接收commit等情况产生碰撞；

**操作者的对象ID**。

提交体是一个键-值对，以下是键的构成：

**被操作对象的对象ID**；

**被操作trait的ID**；

**被操作属性的trait属性ID**。
【iterset add/remove？】

