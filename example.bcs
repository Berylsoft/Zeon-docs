namespace std {
    alias name -> string

    union def-type {
        alias  -> type
        enum   -> list<name>
        union  -> map<name, type>
        struct -> map<name, type>
    }
}

namespace zeon {
    use std:name

    enum commit-attr-type {
        const
        mut
        iter-list
        iter-set
        complex
    }

    struct commit-attr {
        attr-type -> commit-attr-type
        attr-name -> name
        val-type  -> type
    }

    struct complex-rev {
        // TODO
    }

    union rev {
        const           -> unknown
        mut             -> unknown
        iter-list-add   -> list<unknown>
        iter-set-add    -> list<unknown>
        iter-set-remove -> list<unknown>
        complex         -> complex-rev
    }

    struct object-id {
        ot  -> u16
        oid -> u64
    }

    struct rev-id {
        object-id
        trait-id
        trait-attr-id
    }
}
